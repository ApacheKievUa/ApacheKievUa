{"componentChunkName":"component---src-templates-blog-post-js","path":"/migrated-to-myvesta/","result":{"data":{"site":{"siteMetadata":{"title":"Apache.Kiev.UA"}},"markdownRemark":{"id":"bb561dfa-43ba-5520-a108-1441b9b1d3cf","excerpt":"Виявилось, що VestaCP вже давненько не оновлюється, пулл реквести не мерджаться і так далі. А мені конче необхідно весь зоопарк сайтів, які я у себе розміщую…","html":"<p>Виявилось, що VestaCP вже давненько не оновлюється, пулл реквести не мерджаться і так далі. А мені конче необхідно весь зоопарк сайтів, які я у себе розміщую, перевести на PHP 7.4.</p>\n<p>Поліз шукати інфу на <a href=\"https://vestacp.com\">сайті Вести</a> - щось нічого про свіжі версії ПХП не побачив. Заліз у їх Гітхаб – побачив у ішьюзах, що <a href=\"https://github.com/serghey-rodin/vesta/issues/2006\">все погано</a> з оновленнями, але є альтернативні панелі, які форкнули з Вести.</p>\n<p>Конкретніше - <a href=\"https://www.hestiacp.com\">Hestia</a> та <a href=\"https://www.myvestacp.com\">myVesta</a>.</p>\n<p>Оскільки я досить лінива людна, та оригінальна Веста мене повністю влаштовувала, то обрав для себе myVesta – там такий саме дизайн, але мейнтейнер проекту поки що його підтримує (але тільки для Дебіану, що не є для мене проблемою).</p>\n<h3>Як я переносив сайти з Вести на майВесту</h3>\n<p>У моєму випадку, я маю два VPS - один з VestaCP, інший без нього, але має вільного місця достатньо, щоб туди завантажити бекапи.\nДодаю публічний ключ першого серверу на другий для того, щоб простіше було перекидати файли через rsync, потім десь таким чином переношу папку бекапу з першого на другий:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">rsync</span> -av /backup root@server-ip-here:/backup</code></pre></div>\n<p>Після цього я перевстановив систему на першому сервері наново, та інсталював myVesta\nКоли інсталяція завершилась і я трохи потестив, як все працює (а воно так само працює, не помітив різниці зі старою Вестою), і перекинув бекапи назад.\nПотім відновив дані користувацьких акаунтів разом із сайтами/бд/хз командою виду</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">v-restore-user Username archive-date.tar</code></pre></div>\n<p>І воно нормально запрацювало, ура. Дуже просто і ненапряжно. Більше часу витратив на перекидання архівів з бекапами туди-сюди.</p>","frontmatter":{"title":"Мігрував сайти з VestaCP на myVesta","date":"January 16, 2021","description":"Помітив, що вже давно не було оновлень для панелі керування VestaCP, яку я використовував останні чотири роки, і ПХП найсвіжіший у ній був версії 7, та почав шукати інформацію, яки би безболісно додати підтримку свіжіших версій пиху. В результаті мігрував на форк цієї панелі – myVesta."}}},"pageContext":{"slug":"/migrated-to-myvesta/","previous":{"fields":{"slug":"/macbook-isnt-that-bad/"},"frontmatter":{"title":"Намагаюсь виправдати придбання макбуку"}},"next":{"fields":{"slug":"/ender3-v2-experience/"},"frontmatter":{"title":"Трохи вражень після місяця з 3d-принтером Creality Ender 3 V2"}}}},"staticQueryHashes":["2841359383","3250331825"]}